define("aiprovider_datacurso/webservice_config",["exports","core/notification","core/str","aiprovider_datacurso/repository"],(function(_exports,_notification,_str,_repository){var obj;
/**
   * AMD module to handle the Webservice configuration actions for Datacurso.
   * It performs setup, token regeneration, and registration calls and
   * displays progress via UI notifications and a simple log list.
   *
   * @module      aiprovider_datacurso/webservice_config
   * @copyright   2025 Wilber Narvaez <wilber@buendata.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */async function setup(){try{log(await(0,_str.get_string)("ws_step_setup","aiprovider_datacurso"));const res=await(0,_repository.webserviceSetup)();res.messages&&Array.isArray(res.messages)&&res.messages.forEach((m=>log(m))),_notification.default.addNotification({message:"Done: setup",type:"success"})}catch(e){_notification.default.exception(e),log("Error: "+(e.message||e),"error")}}async function retry(){try{log(await(0,_str.get_string)("ws_step_token_retry","aiprovider_datacurso"));(await(0,_repository.webserviceSetup)()).messages.forEach((m=>log(m))),_notification.default.addNotification({message:"Done: retry",type:"success"})}catch(e){_notification.default.exception(e),log("Error: "+(e.message||e),"error")}}async function regenerate(){try{log(await(0,_str.get_string)("ws_step_token_regenerating","aiprovider_datacurso"));(await(0,_repository.webserviceRegenerateToken)()).messages.forEach((m=>log(m))),_notification.default.addNotification({message:"Done: regenerate",type:"success"})}catch(e){_notification.default.exception(e),log("Error: "+(e.message||e),"error")}}function log(msg){let type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const list=document.querySelector('[data-region="aiprovider_datacurso/webservice-log"]');if(!list)return;const li=document.createElement("li");li.textContent=msg,li.classList.add("mb-1"),"success"===type?li.classList.add("text-success"):"error"===type?li.classList.add("text-danger"):li.classList.add("text-muted"),list.appendChild(li)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){const root=document.querySelector('[data-region="aiprovider_datacurso/webservice-root"]');if(!root)return;const btnSetup=root.querySelector('[data-region="aiprovider_datacurso/webservice-btn-setup"]'),btnRetry=root.querySelector('[data-region="aiprovider_datacurso/webservice-btn-retry"]'),btnRegenerate=root.querySelector('[data-region="aiprovider_datacurso/webservice-btn-regenerate"]');btnSetup&&btnSetup.addEventListener("click",setup);btnRetry&&btnRetry.addEventListener("click",retry);btnRegenerate&&btnRegenerate.addEventListener("click",regenerate)},_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=webservice_config.min.js.map