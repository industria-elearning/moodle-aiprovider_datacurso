{"version":3,"file":"report_charts.min.js","sources":["../src/report_charts.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module report\n *\n * @module     aiprovider_datacurso/report_charts\n * @copyright  2025 Industria Elearning <info@industriaelearning.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Chart from 'core/chartjs';\n\nexport const init = (consumos) => {\n    // Dataset de tokens por dÃ­a\n    const labels = consumos.map(c => c.fecha);\n    const tokens = consumos.map(c => c.cantidad_tokens);\n\n    const ctx1 = document.getElementById('chart-tokens-by-day');\n    new Chart(ctx1, {\n        type: 'line',\n        data: {\n            labels: labels,\n            datasets: [{\n                label: 'Tokens consumidos',\n                data: tokens,\n                borderColor: '#0073e6',\n                fill: false\n            }]\n        }\n    });\n\n    // Dataset de acciones\n    const acciones = {};\n    consumos.forEach(c => {\n        acciones[c.accion] = (acciones[c.accion] || 0) + c.cantidad_tokens;\n    });\n\n    const ctx2 = document.getElementById('chart-actions');\n    new Chart(ctx2, {\n        type: 'pie',\n        data: {\n            labels: Object.keys(acciones),\n            datasets: [{\n                data: Object.values(acciones),\n                backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56', '#4BC0C0']\n            }]\n        }\n    });\n};\n"],"names":["consumos","labels","map","c","fecha","tokens","cantidad_tokens","ctx1","document","getElementById","Chart","type","data","datasets","label","borderColor","fill","acciones","forEach","accion","ctx2","Object","keys","values","backgroundColor"],"mappings":";;;;;;;0JAyBqBA,iBAEXC,OAASD,SAASE,KAAIC,GAAKA,EAAEC,QAC7BC,OAASL,SAASE,KAAIC,GAAKA,EAAEG,kBAE7BC,KAAOC,SAASC,eAAe,2BACjCC,iBAAMH,KAAM,CACZI,KAAM,OACNC,KAAM,CACFX,OAAQA,OACRY,SAAU,CAAC,CACPC,MAAO,oBACPF,KAAMP,OACNU,YAAa,UACbC,MAAM,aAMZC,SAAW,GACjBjB,SAASkB,SAAQf,IACbc,SAASd,EAAEgB,SAAWF,SAASd,EAAEgB,SAAW,GAAKhB,EAAEG,yBAGjDc,KAAOZ,SAASC,eAAe,qBACjCC,iBAAMU,KAAM,CACZT,KAAM,MACNC,KAAM,CACFX,OAAQoB,OAAOC,KAAKL,UACpBJ,SAAU,CAAC,CACPD,KAAMS,OAAOE,OAAON,UACpBO,gBAAiB,CAAC,UAAW,UAAW,UAAW"}